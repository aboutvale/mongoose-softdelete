{"name":"Mongoose-softdelete","tagline":"Soft delete MongoDB documents","body":"[![Build Status](https://travis-ci.org/riyadhalnur/mongoose-softdelete.svg)](https://travis-ci.org/riyadhalnur/mongoose-softdelete)\r\n\r\nMongoose Soft Delete Plugin\r\n============================\r\n\r\nMongoose plugin that enables soft deletion of Models/Documents.  \r\n\r\nThis plugin is based on the work of [Yi](https://github.com/yi).  \r\n\r\n## What's Different  \r\nIn the original plugin, models were deleted with a date reference only. This version takes that and uses a Boolean flag to to mark models deleted/restored. Now, whoever deleted the data will be recorded in the DB. Additionally, it removes a lot of overhead from the original code and doesn't use Coffeescript for the original code. Also included is an example express app to see if the plugin works.  \r\n\r\n## License  \r\nThis plugin is licensed under the MIT license and can ve viewed in the LICENSE file.  \r\n\r\n## Installation  \r\nInstall using [npm](https://npmjs.org)  \r\n```\r\nnpm install mongoose-softdelete --save\r\n```  \r\n\r\n## Tests  \r\nIMPORTANT: You need to have MongoDB running to run tests  \r\n\r\n```\r\nnpm test\r\n```\r\n\r\n## Usage  \r\n\r\n**models/test.js**  \r\n\r\n```js\r\nvar mongoose = require('mongoose'),\r\n    Schema = mongoose.Schema,\r\n    soft_delete = require('mongoose-softdelete');\r\n\r\nvar TestSchema = new Schema({\r\n  somefield: { type: String, default: 'Hello World!'}\r\n});\r\n\r\nTestSchema.plugin(soft_delete);  \r\n```  \r\n\r\n**controllers/test.js**  \r\n\r\n```js  \r\nvar Test = mongoose.model('Test', TestSchema);\r\nvar test = new Test();\r\n\r\ntest.softdelete(function(err, newTest) {\r\n  if (err) { callback(err); }  \r\n  callback(null, newTest);\r\n});\r\n\r\ntest.restore(function(err, newTest) {\r\n  if (err) { callback(err); }  \r\n  callback(null, newTest);\r\n});  \r\n```  \r\n \r\nBuilt with love in Dhaka, Bangladesh by [Riyadh Al Nur](https://twitter.com/riyadhalnur)\r\n","google":"UA-49473294-1","note":"Don't delete this file! It's used internally to help with page regeneration."}